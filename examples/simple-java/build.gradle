plugins {
    id 'com.github.johnrengelman.shadow' version '2.0.1'
    id 'java'
    id "application"
}
mainClassName = "example.Application"

// TODO: Why does this prevent "gradle run" from working?...
//applicationDefaultJvmArgs = [""]
jar {
    manifest {
        attributes 'Main-Class': "example.Application"
    }
}
repositories {
    mavenLocal()
    mavenCentral()
}
dependencies {
    compileOnly "org.particleframework:inject-java:${projectVersion}"
    compile 'io.reactivex.rxjava2:rxjava:2.1.5'
    compile "org.particleframework:http-server-netty:${projectVersion}"
    compile "org.particleframework:management:${projectVersion}"
    compile "org.particleframework:validation:${projectVersion}"
    compile "org.particleframework.configuration:jackson:${projectVersion}"
    compile "org.particleframework.configuration:hibernate-validator:${projectVersion}"
    runtime "ch.qos.logback:logback-classic:1.2.3"

    testCompile "junit:junit:4.12"
    testCompile 'com.squareup.okhttp3:okhttp:3.8.1'
}
shadowJar {
    mergeServiceFiles()
}